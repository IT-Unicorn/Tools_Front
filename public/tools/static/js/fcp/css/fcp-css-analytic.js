baidu.namespace.register("baidu.cssAnalytic");baidu.cssAnalytic=function(){this.parsePos=0;this.content="";this.contentLength=0;this._output=[];this._pre_type="";this.run=function(a){this.content=a.trim().replace(/\n/g,"\n");this.contentLength=this.content.length;this.tokenAnalytic();return this._output};this.tokenAnalytic=function(){var a;while(true){a=this.getNextToken();if(a){if(a[1]===baidu.FL.FL_EOF){break}this._output.push(a);if(a[1]===baidu.FL.CSS_PROPERTY){this._output.push([":",baidu.FL.CSS_COLON])}else{if(a[1]===baidu.FL.CSS_VALUE){this._output.push([";",baidu.FL.CSS_SEMICOLON])}}}}};this.getNextToken=function(){if(this.parsePos>=this.contentLength){return["",baidu.FL.FL_EOF]}$char=this.content[this.parsePos];this.parsePos++;if($char==="\x0d"){return""}if($char==="\x0a"){return[$char,baidu.FL.FL_NEW_LINE]}if($char.trim()===""||$char===";"){return""}var d;if($char==="@"){d=this._getAtToken($char);if(d){return d}}else{if($char==="{"){switch(this._pre_type){case baidu.FL.CSS_DEVICE_DESC:this._pre_type=baidu.FL.CSS_DEVICE_START;return[$char,baidu.FL.CSS_DEVICE_START];default:this._pre_type=baidu.FL.CSS_SELECTOER_START;return[$char,baidu.FL.CSS_SELECTOER_START]}}else{if($char==="}"){switch(this._pre_type){case baidu.FL.CSS_SELECTOER_END:this._pre_type=baidu.FL.CSS_DEVICE_END;return[$char,baidu.FL.CSS_DEVICE_END];default:for(var e=this._output.length-1;e>=0;e--){var c=this._output[e];if(c[1]===baidu.FL.CSS_SELECTOER_START){this._pre_type=baidu.FL.CSS_SELECTOER_END;return[$char,baidu.FL.CSS_SELECTOER_END]}else{if(c[1]===baidu.FL.CSS_DEVICE_START){this._pre_type=baidu.FL.CSS_DEVICE_END;return[$char,baidu.FL.CSS_DEVICE_END]}}}this._pre_type=baidu.FL.CSS_SELECTOER_END;return[$char,baidu.FL.CSS_SELECTOER_END]}}else{if(this.content.substr(this.parsePos-1,2)==="/*"){d=this._getCommentToken($char);if(d){return d}}else{if($char==="\x0d"||$char==="\x0a"){return[$char,baidu.FL.FL_NEW_LINE]}}}}}switch(this._pre_type){case baidu.FL.CSS_SELECTOER_START:case baidu.FL.CSS_VALUE:d=this._getPropertyToken($char);this._pre_type=baidu.FL.CSS_PROPERTY;return d;case baidu.FL.CSS_PROPERTY:d=this._getValueToken($char);this._pre_type=baidu.FL.CSS_VALUE;return d;case baidu.FL.CSS_DEVICE_START:var b=this.parsePos;d=this._getPropertyToken($char);var a=d[0];if(a.indexOf("{")>-1){this.parsePos=b;d=this._getSelectorToken($char);this._pre_type=baidu.FL.CSS_DEVICE_START;if(d){return d}}else{this._pre_type=baidu.FL.CSS_PROPERTY;return d}default:d=this._getSelectorToken($char);if(d){return d}}return[$char,baidu.FL.CSS_NORMAL]};this._getAtToken=function(a){$resultString=a;while(this.content[this.parsePos]!==";"&&this.content[this.parsePos]!=="{"&&this.parsePos<this.contentLength){$resultString+=this.content[this.parsePos];this.parsePos++}if(this.content[this.parsePos]===";"){$resultString+=";";this.parsePos++;return[$resultString.trim(),baidu.FL.CSS_AT]}this._pre_type=baidu.FL.CSS_DEVICE_DESC;return[$resultString.trim(),baidu.FL.CSS_DEVICE_DESC]};this._getCommentToken=function(a,b){this.parsePos++;$resultString="";while(!(this.content[this.parsePos]==="*"&&this.content[this.parsePos+1]&&this.content[this.parsePos+1]==="/")&&this.parsePos<this.contentLength){$resultString+=this.content[this.parsePos];this.parsePos++}this.parsePos+=2;if(b){return"/*"+$resultString+"*/"}return["/*"+$resultString+"*/",baidu.FL.CSS_COMMENT]};this._getSelectorToken=function(a){var b=a;while(this.content[this.parsePos]!=="{"&&this.content[this.parsePos]!=="}"&&this.parsePos<this.contentLength){if(this.content[this.parsePos]==="/"&&this.content[this.parsePos+1]&&this.content[this.parsePos+1]==="*"){b+=this._getCommentToken("/",true)}else{b+=this.content[this.parsePos];this.parsePos++}}return[b.trim(),baidu.FL.CSS_SELECTOER]};this._getPropertyToken=function(a){$resultString=a;while(this.content[this.parsePos]!==":"&&this.content[this.parsePos]!==";"&&this.content[this.parsePos]!=="}"&&this.parsePos<this.contentLength){$resultString+=this.content[this.parsePos];this.parsePos++}if(this.content[this.parsePos]!=="}"){this.parsePos++}return[$resultString.trim().toLowerCase(),baidu.FL.CSS_PROPERTY]};this._getValueToken=function(a){var c=a;var b=false;while(this.content[this.parsePos]!==";"&&this.content[this.parsePos]!=="}"&&this.parsePos<this.contentLength){a=this.content[this.parsePos];this.parsePos++;c+=a;if(!b&&c.toLowerCase()==="expression("){b=true;c+=this._getJSToken()}}if(this.content[this.parsePos]===";"){this.parsePos++}c=c.trim().replace(/\s+/ig," ");return[c,baidu.FL.CSS_VALUE]};this._getJSToken=function(){var b="",a;while(this.parsePos<this.contentLength){a=this.content[this.parsePos];this.parsePos++;b+=a;if(a===")"&&this._checkJSToken("("+b)){break}}return b};this._checkJSToken=function(d){var e=0;var c=0;for(var f=0,b=d.length;f<b;f++){var a=d[f];if(a[0]==="("){e++}else{if(a[0]===")"){c++}}}return e===c}};
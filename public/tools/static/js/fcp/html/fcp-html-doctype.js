baidu.namespace.register("baidu.doctype");baidu.doctype=(function(){var e={IE:"Q",WebKit:"Q",hasCommentBeforeDTD:false,hasConditionalCommentBeforeDTD:false,isUnusualDocType:false,hasDocType:false};function c(k,l,j){if(k.toLowerCase()=="\"xmlns:xsl='http://www.w3.org/1999/xsl/transform'\""&&l==""&&j==""){e.IE="S";e.WebKit="Q";e.isUnusualDocType=false}}function f(j){return CONDITIONAL_COMMENT_REGEXP.test(j)}function h(j){return NOT_IE_HIDDEN_CONDITIONAL_COMMENT_REGEXP.test(j)}function a(j){return REVEALED_CLOSING_CONDITIONAL_COMMENT_REGEXP.test(j)}function b(j){return NOT_IE_REVEALED_OPENING_CONDITIONAL_COMMENT_REGEXP.test(j)}function g(k){var j=k.previousSibling;for(;j;j=j.previousSibling){if(b(j.nodeValue)){return j}}return null}function i(){var j={hasCommentBeforeDTD:false,hasConditionalCommentBeforeDTD:false};var k=document.doctype;if(!k){return j}var m=k.previousSibling;for(;m;m=m.previousSibling){if(m.nodeType==Node.COMMENT_NODE){var l=m.nodeValue;if(a(l)){m=g(m);if(m){j.hasConditionalCommentBeforeDTD=true;return j}continue}var n=f(l);if(!n){j.hasCommentBeforeDTD=true;continue}if(h(l)){j.hasConditionalCommentBeforeDTD=true}}}return j}function d(){var l=document.doctype;var n=document.compatMode.toLowerCase();e.hasDocType=(l)?true:false;e.WebKit=(n=="backcompat")?"Q":"S";e.IE=e.WebKit;if(!l){return}var m=l?l.name.toLowerCase():"";var o=l?l.publicId:"";var k=l?l.systemId:"";if(m!="html"){e.IE=undefined;e.isUnusualDocType=true}else{if(o in PUBLIC_ID_WHITE_LIST){if(!(k in PUBLIC_ID_WHITE_LIST[o].systemIds)){e.IE=undefined;e.isUnusualDocType=true}}else{e.IE=undefined;e.isUnusualDocType=true}}if((o in COMPAT_MODE_DIFF_PUBLIC_ID_MAP)&&(k in COMPAT_MODE_DIFF_PUBLIC_ID_MAP[o].systemIds)){e.IE=COMPAT_MODE_DIFF_PUBLIC_ID_MAP[o].systemIds[k].IE;e.isUnusualDocType=false}c(m,o,k);if(e.IE!="Q"){var j=i();if(j.hasConditionalCommentBeforeDTD){e.IE=undefined;e.hasConditionalCommentBeforeDTD=true}else{if(j.hasCommentBeforeDTD){e.IE="Q";e.hasCommentBeforeDTD=true}}}}return{getDocMode:function(){d();return e}}})();
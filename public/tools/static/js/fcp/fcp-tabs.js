baidu.namespace.register("baidu.fcptabs");baidu.fcptabs=(function(){var b={};var g=function(){var j=jQuery("#fe-helper-box");var k=jQuery("#fe-helper-main-tab");if(j[0]){j.remove()}j=jQuery('<div id="fe-helper-box" class="fe-helper-hide"></div>').appendTo("body");jQuery('<iframe id="fe-helper-main-ifr" src="about:blank" frameborder="0"></iframe>').appendTo(j);k=jQuery('<div id="fe-helper-main-tab"></div>').appendTo(j).html('		<ul id="fe-helper-main-ul">			<li id="fe-helper-closethick"><span class="ui-icon ui-icon-closethick" title="关闭面板">Close</span></li>			<li id="fe-helper-plusthick" class="fe-helper-hide"><span class="ui-icon ui-icon-plusthick" title="最大化面板">Maximun</span></li>			<li id="fe-helper-minusthick"><span class="ui-icon ui-icon-minusthick" title="最小化面板">Minimun</span></li>		</ul>		');j.css({height:jQuery(window).height()});k.tabs({tabTemplate:"<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close'>Remove Tab</span></li>",add:function(n,p){jQuery("#fe-helper-tab-"+b.type).css({height:jQuery(window).height()-80});var m="fe-helper-acc-"+b.type;jQuery(p.panel).append("<div id='"+m+"'>"+b.tabContent+"</div>");jQuery("#"+m).css({height:jQuery(window).height()-80});if(b.isAccordion){jQuery("#"+m).accordion({collapsible:true,active:false});var o=jQuery("#"+m+" .rst-content");var l=jQuery(window).height()-120-o.length*30;o.css({height:l})}}});jQuery("#fe-helper-main-ul span.ui-icon-close").live("click",function(){var l=jQuery("#fe-helper-main-ul li");var m=l.index(jQuery(this).parent())-3;k.tabs("remove",m);if(l.length==4){b.tabBox.remove()}});jQuery("#fe-helper-closethick").click(function(l){b.tabBox.hide("slide")});jQuery("#fe-helper-plusthick").click(function(l){b.tabBox.css({height:jQuery(window).height()});jQuery(this).hide().next().show()});jQuery("#fe-helper-minusthick").click(function(l){b.tabBox.css({height:38});jQuery(this).hide().prev().show()});jQuery(window).resize(function(l){b.tabBox.css({height:jQuery(window).height()})});b.tabBox=j;b.mainTab=k;return j};var f=function(k,m,l,j){b.type=k;b.tabContent=l;b.isAccordion=j;return b.mainTab.tabs("add","#fe-helper-tab-"+b.type,m)};var h=function(j,k){return f(j+"-issue-sug",baidu.i18n.getMessage("msg0061",[j]),k,false)};var d=function(j){return f("html",baidu.i18n.getMessage("msg0001"),j,true)};var i=function(j){return f("js",baidu.i18n.getMessage("msg0003"),j,true)};var c=function(k,j){b.cssTabContent=j;b.cssTabCount=b.cssTabCount||0;b.cssTabCount++;b.cssTab=jQuery("#fe-helper-tab-css");if(!b.cssTab[0]){f("css",baidu.i18n.getMessage("msg0002"),"",false);b.cssTab=jQuery("#fe-helper-tab-css").html('<ul id="fe-helper-css-ul"></ul>');b.cssTab.tabs({tabTemplate:"<li><a href='#{href}'>#{label}</a> <span class='ui-icon ui-icon-close'>Remove Tab</span></li>",add:function(n,p){var m="fe-helper-css-acc-"+b.cssTabCount;jQuery(p.panel).append("<div id='"+m+"'>"+b.cssTabContent+"</div>");jQuery("#"+m).accordion({collapsible:true,active:false});var o=jQuery("#"+m+" .rst-content");var l=jQuery(window).height()-180-o.length*30;o.css({height:l})}});jQuery("#fe-helper-css-ul span.ui-icon-close").live("click",function(){var l=jQuery("#fe-helper-css-ul li");var m=l.index(jQuery(this).parent());b.cssTab.tabs("remove",m)})}return b.cssTab.tabs("add","#fe-helper-tab-css-"+b.cssTabCount,k)};var e=function(){var j=new Date();baidu.fcptabs.createMainTab();if(b.progressbar){b.mask.remove()}b.mask=jQuery('<div id="fe-helper-pb-mask"><div id="f-h-p-m"></div><div id="fe-helper-progress-bar-img">正在进行页面检测，请稍后...</div><div id="fe-helper-progress-bar"></div></div>').appendTo("body");jQuery("#f-h-p-m").css({height:jQuery(window).height(),width:jQuery(window).width()});var k=chrome.extension.getURL("static/img/pbar-ani.gif");jQuery("#fe-helper-progress-bar-img").css({background:"url("+k+") repeat-x"});b.progressbar=jQuery("#fe-helper-progress-bar").progressbar({value:0,complete:function(l,m){var n=jQuery("#fe-helper-progress-bar-img").html("页面检测完成，共计耗时："+(new Date()-j)/1000+" s");b.tabBox.show("slide",{},500);jQuery("#f-h-p-m").fadeOut(500);n.fadeOut(3000)}});jQuery("#fe-helper-progress-bar-img").css({top:jQuery(window).height()/2-40,left:(jQuery(window).width()-800)/2})};var a=function(j){b.progressbar.progressbar("value",j)};return{createMainTab:g,addHtmlTab:d,addJavascriptTab:i,addCssTab:c,addIssueSuggestionTab:h,createProgressBar:e,updateProgressBar:a}})();